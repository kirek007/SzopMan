<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/templates/default.xhtml"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
 
<ui:define name="content">
<center>
<p>
<h:form>
<rich:panel header="Bills list">
<rich:dataTable value="#{billBean.bills}" var="bill" id="table"  rowClasses="odd-row, even-row"
            styleClass="stable">
             <rich:column style="width:200px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="BillID" />
                </f:facet>
                <h:outputText value="#{bill.id}" />
            </rich:column >
            <rich:column style="width:100px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="Value" />
                </f:facet>
                <h:outputText value="#{bill.billValue}" />
            </rich:column>    
           <rich:column style="width:100px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="Sell date" />
                </f:facet>
                <h:outputText value="#{bill.sellDate}" />
            </rich:column>   
            <rich:column style="width:150px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="Operation" />
                </f:facet>
                <a4j:commandButton value="Show specyfication" action="#{billBean.selectBill}" render="spec"/>
            </rich:column>                
</rich:dataTable>
                <a4j:status >
                	<f:facet name="start">
                    	<h:graphicImage value="http://showcase.richfaces.org/images/ai.gif" alt="ai" />
                    </f:facet>
                </a4j:status>
</rich:panel>
</h:form>
</p>
<a4j:outputPanel id="spec">

<rich:panel header="Bill #{billBean.billToShow.id} specyfication. Value #{billBean.billToShow.billValue}">
<rich:dataTable value="#{billBean.billspec}" var="spec" id="table"  rowClasses="odd-row, even-row"
            styleClass="stable">
             <rich:column style="width:200px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="BillSpecId" />
                </f:facet>
                <h:outputText value="#{spec.id}" />
            </rich:column >
            <rich:column style="width:100px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="Article" />
                </f:facet>
                <h:outputText value="#{spec.article.nazwa}" />
            </rich:column> 
            <rich:column style="width:100px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="Price" />
                </f:facet>
                <h:outputText value="#{spec.article.cena}" />
            </rich:column>         
            <rich:column style="width:100px;text-align: center;">
                <f:facet name="header">
                    <h:outputText value="Quantity" />
                </f:facet>
                <h:outputText value="#{spec.quantity}" />
            </rich:column>               
</rich:dataTable>
</rich:panel>
</a4j:outputPanel>
</center>
</ui:define>
</ui:composition>


